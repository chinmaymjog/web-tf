Started by user [8mha:////4AaLTPvsSlus8agwzA8REbkPHt6pe+gFNQjHhXi0JLw4AAAAmR+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzuEgZe/dLi1CL95IzMvNzESgC1+YY6wgAAAA==[0mChinmay Jog
Running as SYSTEM
[EnvInject] - Loading node environment variables.
Building in workspace /var/lib/jenkins/workspace/Admin_Tools/Delete_Site
[Delete_Site] $ /bin/sh -xe /tmp/jenkins13209162618397659793.sh
+ [ -z html-ilearndevps-in.ilearndevops.in ]
+ [ html = html ]
+ echo Adding html site html-ilearndevps-in.ilearndevops.in on indus
Adding html site html-ilearndevps-in.ilearndevops.in on indus
+ sudo ansible-playbook --extra-vars site_url=html-ilearndevps-in.ilearndevops.in env=indus /data/ansibleansible/playbooks/html_site_delete.yml

PLAY [Deleting HTML Site] ******************************************************

TASK [Gathering Facts] *********************************************************
[WARNING]: Platform linux on host web1 is using the discovered Python
interpreter at /usr/bin/python3.12, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.
[WARNING]: Platform linux on host web2 is using the discovered Python
interpreter at /usr/bin/python3.12, but future installation of another Python
interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-
core/2.17/reference_appendices/interpreter_discovery.html for more information.
ok: [web1]
ok: [web2]

TASK [Checking if config file exist in sites-available] ************************
ok: [web1]
ok: [web2]

TASK [Progress] ****************************************************************
skipping: [web1]
skipping: [web2]

TASK [Set site auth user] ******************************************************
changed: [web1 -> localhost]
changed: [web2 -> localhost]

TASK [Disable site] ************************************************************
changed: [web1]
changed: [web2]

TASK [Deleting site VHOST config] **********************************************
changed: [web1]
changed: [web2]

TASK [Restart apache2] *********************************************************
changed: [web1]
changed: [web2]

TASK [Deleting Document root directory] ****************************************
fatal: [web1]: FAILED! => {"changed": false, "msg": "rmtree failed: [Errno 16] Device or resource busy: '/websites/'"}
fatal: [web2]: FAILED! => {"changed": false, "msg": "rmtree failed: [Errno 16] Device or resource busy: '/websites/'"}

PLAY RECAP *********************************************************************
web1                       : ok=6    changed=4    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
web2                       : ok=6    changed=4    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   

Build step 'Execute shell' marked build as failure
Finished: FAILURE
